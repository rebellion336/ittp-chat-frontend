{"version":3,"sources":["webpack:///./component/loan/bindingIdForm.js?5206"],"names":["FormItem","Form","Item","BindingIdForm","props","handleSubmit","bind","event","preventDefault","form","validateFields","err","values","citizenId","customerInfo","id","platform","value","postJSON","fetchLoan","console","error","log","getFieldDecorator","textAlign","rules","required","message","validator","validCitizenId","color","WrappedBindingIdForm","create","connect"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;;AAEA,IAAMA,WAAW,kDAAAC,CAAKC,IAAtB;;IAEMC,a;;;AAEF,2BAAYC,KAAZ,EAAkB;AAAA;;AAAA,kIACRA,KADQ;;AAEd,cAAKC,YAAL,GAAoB,MAAKA,YAAL,CAAkBC,IAAlB,OAApB;AAFc;AAGjB;;;;qCAEYC,K,EAAO;AAAA;;AAChBA,kBAAMC,cAAN;AACA,iBAAKJ,KAAL,CAAWK,IAAX,CAAgBC,cAAhB;AAAA,kIAA+B,iBAAMC,GAAN,EAAWC,MAAX;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA,wCACtBD,GADsB;AAAA;AAAA;AAAA;;AAEhBE,6CAFgB,GAEHD,MAFG,CAEhBC,SAFgB;AAAA,0DAGG,OAAKT,KAAL,CAAWU,YAHd,EAGfC,EAHe,uBAGfA,EAHe,EAGVC,QAHU,uBAGVA,QAHU;AAAA;AAKbC,yCALa,GAKL;AACVF,4CAAIA,EADM;AAEVF,mDAAYA,SAFF;AAGVG,kDAAUA;AAHA,qCALK;AAAA;AAAA,2CAUb,oEAAAE,CACC,8DADD,0BAEFD,KAFE,CAVa;;AAAA;AAcnB,2CAAKb,KAAL,CAAWe,SAAX,CAAqB,EAACJ,MAAD,EAArB;AAdmB;AAAA;;AAAA;AAAA;AAAA;;AAiBnBK,4CAAQC,KAAR;;AAjBmB;AAAA;AAAA;;AAAA;AAqBvBD,4CAAQE,GAAR,CAAY,OAAZ;;AArBuB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAA/B;;AAAA;AAAA;AAAA;AAAA;AAwBH;;;iCAEQ;AAAA,gBACGC,iBADH,GACyB,KAAKnB,KAAL,CAAWK,IADpC,CACGc,iBADH;;AAEL,mBACE;AAAC,kEAAD;AAAA,kBAAM,UAAU,KAAKlB,YAArB,EAAmC,OAAO,EAACmB,WAAU,QAAX,EAA1C;AAAA;AAAA;AAAA;AAAA;AACE;AAAA;AAAA;AAAA;AAAA;AAAA,kBADF;AAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAFF;AAGE;AAAA;AAAA;AAAA;AAAA;AAAA,kBAHF;AAIE;AAAC,4BAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACGD,sCAAkB,WAAlB,EAA+B;AAC9BE,+BAAO,CACH;AACIC,sCAAU,IADd;AAEIC,qCAAS;AAFb,yBADG,EAKH;AACIC,uCAAW,yEAAAC;AADf,yBALG;AADuB,qBAA/B,EAWC,4DAAC,mDAAD,IAAO,QAAQ,4DAAC,kDAAD,IAAM,MAAK,QAAX,EAAoB,OAAO,EAAEC,OAAO,iBAAT,EAA3B;AAAA;AAAA;AAAA;AAAA,0BAAf,EAA4E,aAAY,0HAAxF;AAAA;AAAA;AAAA;AAAA,sBAXD;AADH,iBAJF;AAmBE;AAAC,wEAAD;AAAA,sBAAQ,MAAK,SAAb,EAAuB,UAAS,QAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAnBF,aADF;AAyBH;;;;;;;;;EA9DuB,gD;;AAiE5B,IAAMC,uBAAuB,kDAAA9B,CAAK+B,MAAL,GAAc7B,aAAd,CAA7B;;eACe,4DAAA8B,CACX,IADW,EAEX,EAACd,WAAA,oEAAD,EAFW,EAGbY,oBAHa,C;;AAAf;;;;;;;;;;;;4BApEM/B,Q;4BAEAG,a;4BAiEA4B,oB","file":"3.9af3a558812da9d4842a.hot-update.js","sourcesContent":["import { Component } from 'react'\nimport { Form, Icon, Input, Button } from 'antd'\nimport { connect } from 'react-redux';\nimport {API_SERVER , postJSON} from '../../tools/api'\nimport {validCitizenId} from '../../tools/validators'\nimport { fetchLoan } from '../../redux/ducks/loan'\n\nconst FormItem = Form.Item;\n\nclass BindingIdForm extends Component {\n\n    constructor(props){\n        super(props)\n        this.handleSubmit = this.handleSubmit.bind(this)\n    }\n    \n    handleSubmit(event) {\n        event.preventDefault()\n        this.props.form.validateFields(async(err, values) => {\n            if (!err) {\n                const {citizenId} = values\n                const { id , platform } = this.props.customerInfo\n                try{\n                    const value = {\n                        id: id,\n                        citizenId : citizenId,\n                        platform: platform\n                    }\n                    await postJSON(\n                        `${API_SERVER}/chats/line/binding`,\n                        value\n                    )\n                    this.props.fetchLoan({id})\n                }\n                catch(error){\n                    console.error(error)\n                }\n            }\n            else{\n                console.log('Error')\n            }\n        })\n    }\n\n    render() {\n        const { getFieldDecorator } = this.props.form\n        return (\n          <Form onSubmit={this.handleSubmit} style={{textAlign:'center'}} >\n            <br/>\n            <p>ลูกต้าไม่มีประวัติ</p>\n            <br/>\n            <FormItem>\n              {getFieldDecorator('citizenId', {\n                rules: [\n                    { \n                        required: true, \n                        message: 'โปรดใส่เลขบัตรประชาชนของลูกค้า' \n                    },\n                    {\n                        validator: validCitizenId\n                    }\n                ],\n              })(\n                <Input prefix={<Icon type=\"idcard\" style={{ color: 'rgba(0,0,0,.25)' }} />} placeholder=\"บัตรประชาชนของลูกค้า\" />\n              )}\n            </FormItem>\n            <Button type=\"primary\" htmlType=\"submit\">\n                Binding CitizenId\n            </Button>\n          </Form>\n        );\n    }\n    \n}\nconst WrappedBindingIdForm = Form.create()(BindingIdForm);\nexport default connect(\n    null,\n    {fetchLoan}\n)(WrappedBindingIdForm)\n\n\n// WEBPACK FOOTER //\n// ./component/loan/bindingIdForm.js"],"sourceRoot":""}