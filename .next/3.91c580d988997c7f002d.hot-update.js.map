{"version":3,"sources":["webpack:///./component/loan/loanAccount.js?3b32","webpack:///./redux/ducks/ducks.js?e9d1","webpack:///./redux/ducks/loan.js?fa95","webpack:///./redux/saga/loanSagas.js?8a8e"],"names":["LoanAccount","props","columns","dataIndex","key","align","render","name","record","firstName","lastName","state","loanData","fetchLoan","id","setState","data","loans","undefined","length","cursor","onClick","handleClickRow","chats","customerInfo","mapStateToProps","loan","chat","connect","rootReducer","combineReducers","auth","cookie","loanReducer","defaultState","FETCH_LOAN","FETCH_LOAN_SUCCESS","FETCH_LOAN_FAILURE","BIND_ID","BIND_ID_SUCCESS","BIND_ID_FAILURE","type","payload","fetchLoanSuccess","fetchLoanFailure","code","message","bindId","citizenId","platform","bindIdSuccess","bindIdFailure","initialState","error","loading","reducer","action","console","log","fetchLoanSaga","loanSagas","call","put","all","takeLatest","bindIdSaga"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;;IAEMA,W;;;AACF,yBAAYC,KAAZ,EAAkB;AAAA;;AAAA,8HACRA,KADQ;;AAEd,cAAKC,OAAL,GAAa,CACT;AACIC,uBAAW,QADf;AAEIC,iBAAK,QAFT;AAGIC,mBAAM;AAHV,SADS,EAMT;AACIC,oBAAQ,wBAAU;AACd,oBAAMC,OAAUC,OAAOC,SAAjB,SAA8BD,OAAOE,QAA3C;AACA,uBAAOH,IAAP;AACH;AAJL,SANS,CAAb;AAaA,cAAKI,KAAL,GAAa;AACTC,sBAAW;AADF,SAAb;AAfc;AAkBjB;;;;4CACmB;AAChB,iBAAKX,KAAL,CAAWY,SAAX,CAAqB;AACjBC,oBAAK;AADY,aAArB;AAGH;;;uCAEcN,M,EAAQ;AACnB,iBAAKO,QAAL,CAAc;AACVH,0BAAWJ;AADD,aAAd;AAGH;;;iCAEO;AAAA;;AAAA,gBACGQ,IADH,GACW,KAAKf,KAAL,CAAWgB,KADtB,CACGD,IADH;;AAEJ,gBAAGA,SAASE,SAAZ,EAAsB;AAClB,oBAAG,CAACF,KAAKG,MAAN,IAAgB,CAAnB,EAAqB;AACjB,2BACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA,oFAAC,mDAAD;AACI,mCAAS,EAACC,QAAQ,SAAT,EADb;AAEI,wCAAaJ,IAFjB;AAGI,qCAAS,KAAKd,OAHlB;AAII,wCAAY,KAJhB;AAKI,mCAAO,uBAAU;AACb,uCAAO;AACHmB,6CAAS,mBAAM;AACX,+CAAKC,cAAL,CAAoBd,MAApB;AACH;AAHE,iCAAP;AAKH,6BAXL;AAAA;AAAA;AAAA;AAAA;AAAA,0BADA;AAcA;AAAA;AAAA;AAAA;AAAA;AAAA,0BAdA;AAeA,oFAAC,0DAAD,IAAU,UAAY,KAAKG,KAAL,CAAWC,QAAjC;AAAA;AAAA;AAAA;AAAA;AAfA,qBADJ;AAmBH;AACD,uBAAO,4DAAC,+DAAD,IAAe,cAAc,KAAKX,KAAL,CAAWsB,KAAX,CAAiBP,IAAjB,CAAsBQ,YAAnD;AAAA;AAAA;AAAA;AAAA,kBAAP;AACH;AACD,mBAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAAP;AACH;;;;;;;;;EA3DqB,gD;;AA8D1B,IAAMC,kBAAkB,SAAlBA,eAAkB,QAAS;AAC7B,WAAO;AACLR,eAAQN,MAAMe,IADT;AAELH,eAAQZ,MAAMgB;AAFT,KAAP;AAIH,CALD;;eAMe,4DAAAC,CACXH,eADW,EAEX,EAACZ,WAAA,oEAAD,EAFW,EAGbb,WAHa,C;;AAAf;;;;;;;;;;;;4BApEMA,W;4BA8DAyB,e;;;;;;;;;;;;;;;;;;;;;;;;;;;ACrEN;AACA;AACA;AACA;AACA;;AAEO,IAAMI,cAAc,8DAAAC,CAAgB;AACvCC,UAAO,sDADgC;AAEvCC,YAAQ,wDAF+B;AAGvCL,UAAO,sDAHgC;AAIvCD,UAAO,sDAAAO;AAJgC,CAAhB,CAApB;;AAOA,IAAMC,eAAe,EAArB;;;;;;;;;;;;4BAPML,W;4BAOAK,Y;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACbN,IAAMC,aAAa,2BAAnB;AACP,IAAMC,qBAAqB,mCAA3B;AACA,IAAMC,qBAAqB,mCAA3B;;AAEO,IAAMC,UAAU,wBAAhB;AACP,IAAMC,kBAAkB,gCAAxB;AACA,IAAMC,kBAAkB,gCAAxB;;AAEO,IAAM3B,YAAY,SAAZA,SAAY,OAAU;AAAA,QAARC,EAAQ,QAARA,EAAQ;;AAC/B,WAAM;AACF2B,cAAMN,UADJ;AAEFO,iBAAS,EAAC5B,MAAD;AAFP,KAAN;AAIH,CALM;;AAOA,IAAM6B,mBAAmB,SAAnBA,gBAAmB,QAAc;AAAA,QAAX3B,IAAW,SAAXA,IAAW;;AAC1C,WAAM;AACFyB,cAAKL,kBADH;AAEFM,iBAAS,EAAC1B,UAAD;AAFP,KAAN;AAIH,CALM;;AAOA,IAAM4B,mBAAmB,SAAnBA,gBAAmB;AAAA,WAAO;AACnCH,cAAKJ,kBAD8B;AAEnCK,iBAAQ,EAAEG,UAAF,EAAQC,gBAAR;AAF2B,KAAP;AAAA,CAAzB;;AAKA,IAAMC,SAAS,SAATA,MAAS;AAAA,QAAGjC,EAAH,SAAGA,EAAH;AAAA,QAAQkC,SAAR,SAAQA,SAAR;AAAA,QAAoBC,QAApB,SAAoBA,QAApB;AAAA,WAAoC;AACtDR,cAAKH,OADiD;AAEtDI,iBAAQ,EAAC5B,MAAD,EAAMkC,oBAAN,EAAkBC,kBAAlB;AAF8C,KAApC;AAAA,CAAf;;AAKA,IAAMC,gBAAgB,SAAhBA,aAAgB,QAAc;AAAA,QAAXlC,IAAW,SAAXA,IAAW;;AACvC,WAAM;AACFyB,cAAKF,eADH;AAEFG,iBAAS,EAAC1B,UAAD;AAFP,KAAN;AAIH,CALM;;AAOA,IAAMmC,gBAAgB,SAAhBA,aAAgB,QAAc;AAAA,QAAXnC,IAAW,SAAXA,IAAW;;AACvC,WAAM;AACFyB,cAAKD,eADH;AAENE,iBAAQ,EAAEG,UAAF,EAAQC,gBAAR;AAFF,KAAN;AAIH,CALM;;AAOP,IAAMM,eAAe;AACjBC,WAAO,EADU;AAEjBC,aAAS;AAFQ,CAArB;;AAKA,IAAMC,UAAU,SAAVA,OAAU,GAAuC;AAAA,QAAtC5C,KAAsC,uEAA9ByC,YAA8B;AAAA,QAAhBI,MAAgB,uEAAP,EAAO;;AACnD,YAAOA,OAAOf,IAAd;AACI,aAAKN,UAAL;AAAiB;AACbsB,wBAAQC,GAAR,CAAY,oBAAZ,EAAiCF,MAAjC;AACA,oCACO7C,KADP;AAEI2C,6BAAS;AAFb;AAIH;AACD,aAAKlB,kBAAL;AAAyB;AAAA,oBACdpB,IADc,GACNwC,OAAOd,OADD,CACd1B,IADc;;AAErB,oCACOL,KADP;AAEI2C,6BAAS,KAFb;AAGItC,0BAAMA;AAHV;AAKH;AACD,aAAKqB,kBAAL;AAAyB;AACrB,oCACO1B,KADP;AAEI2C,6BAAS,KAFb;AAGID,2BAAO;AACLR,8BAAMW,OAAOd,OAAP,CAAeG,IADhB;AAELC,iCAASU,OAAOd,OAAP,CAAeI;AAFnB;AAHX;AAQH;AACD,aAAKR,OAAL;AAAc;AACV,oCACO3B,KADP;AAEI2C,6BAAS;AAFb;AAIH;AACD,aAAKf,eAAL;AAAsB;AAAA,oBACXvB,KADW,GACHwC,OAAOd,OADJ,CACX1B,IADW;;AAElB,oCACOL,KADP;AAEI2C,6BAAU,KAFd;AAGItC,0BAAOA;AAHX;AAKH;AACD,aAAKwB,eAAL;AAAsB;AAClB,oCACO7B,KADP;AAEI2C,6BAAS,KAFb;AAGID,2BAAO;AACLR,8BAAMW,OAAOd,OAAP,CAAeG,IADhB;AAELC,iCAASU,OAAOd,OAAP,CAAeI;AAFnB;AAHX;AAQH;AACD;AACI,mBAAOnC,KAAP;AAnDR;AAqDH,CAtDD;eAuDe4C,O;AAAf;;;;;;;;;;;;4BA1GapB,U;4BACPC,kB;4BACAC,kB;4BAEOC,O;4BACPC,e;4BACAC,e;4BAEO3B,S;4BAOA8B,gB;4BAOAC,gB;4BAKAG,M;4BAKAG,a;4BAOAC,a;4BAOPC,Y;4BAKAG,O;;;;;;;;;;;;;;;;;;;;;;;;;;;;;kGCpCWI,a;mGAmBAC,S;;AAlCjB;AACA;AASA;;AAKO,SAAUD,aAAV,CAAwBH,MAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AACHC,4BAAQC,GAAR,CAAY,wBAAZ,EAAqCF,MAArC;AACO1C,sBAFJ,GAEU0C,OAAOd,OAFjB,CAEI5B,EAFJ;AAGH;;AAHG;AAAA;AAAA,2BAKoB,wEAAA+C,CACf,2DADe,EAEZ,8DAFY,eAEQ/C,EAFR,CALpB;;AAAA;AAKOE,wBALP;AAAA;AAAA,2BASO,uEAAA8C,CAAI,6EAAAnB,CAAiB,EAAE3B,UAAF,EAAjB,CAAJ,CATP;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAYS6B,wBAZT,eAYSA,IAZT,EAYeC,OAZf,eAYeA,OAZf;AAAA;AAAA,2BAaO,uEAAAgB,CAAI,6EAAAlB,CAAiB,EAAEC,UAAF,EAAQC,gBAAR,EAAjB,CAAJ,CAbP;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAmBA,SAAUc,SAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BACG,uEAAAG,CAAI,CACN,8EAAAC,CAAW,+DAAX,EAAuBL,aAAvB,CADM,EAEN,8EAAAK,CAAW,4DAAX,EAAoBC,UAApB,CAFM,CAAJ,CADH;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;4BAnBUN,a;4BAmBAC,S","file":"3.91c580d988997c7f002d.hot-update.js","sourcesContent":["import { Component } from 'react'\nimport { connect } from 'react-redux';\nimport { Table} from 'antd';\nimport { fetchLoan } from '../../redux/ducks/loan'\nimport LoanInfo from './loanInfo'\nimport BindingIdForm from './bindingIdForm'\n\nclass LoanAccount extends Component {\n    constructor(props){\n        super(props)\n        this.columns=[\n            {\n                dataIndex: 'loanId',\n                key: 'loanId',\n                align:'center'\n            }, \n            {\n                render: record => {\n                    const name = `${record.firstName} ${record.lastName}`\n                    return name\n                }\n            }\n        ]\n        this.state = {\n            loanData : ''\n        }\n    }\n    componentDidMount() {\n        this.props.fetchLoan({\n            id : 'Uc72aacda842257e6ae27f0bb8d80cc13'\n        })\n    }\n\n    handleClickRow(record) {\n        this.setState({\n            loanData : record\n        })\n    }\n\n    render(){\n        const {data} = this.props.loans\n        if(data !== undefined){\n            if(!data.length == 0){\n                return (\n                    <div>\n                    <Table \n                        style = {{cursor: 'pointer'}}\n                        dataSource={ data } \n                        columns={this.columns} \n                        pagination={false}\n                        onRow={record => {\n                            return {\n                                onClick: () => {\n                                    this.handleClickRow(record)\n                                },\n                            }\n                        }}\n                    />\n                    <br/>\n                    <LoanInfo loanData = {this.state.loanData} />\n                    </div>\n                )\n            }\n            return <BindingIdForm customerInfo={this.props.chats.data.customerInfo}/>\n        }\n        return <div>LOADING</div>\n    }\n}\n\nconst mapStateToProps = state => {\n    return {\n      loans : state.loan,\n      chats : state.chat\n    }\n}\nexport default connect(\n    mapStateToProps,\n    {fetchLoan}\n)(LoanAccount)\n\n\n// WEBPACK FOOTER //\n// ./component/loan/loanAccount.js","import { combineReducers } from 'redux'\nimport authReducer from './auth'\nimport cookieReducer from './cookie'\nimport chatReducer from './chat'\nimport loanReducer from './loan'\n\nexport const rootReducer = combineReducers({\n    auth : authReducer,\n    cookie: cookieReducer,\n    chat : chatReducer,\n    loan : loanReducer\n})\n\nexport const defaultState = {}\n\n\n// WEBPACK FOOTER //\n// ./redux/ducks/ducks.js","export const FETCH_LOAN = 'ittp-chat/chat/FETCH_LOAN'\nconst FETCH_LOAN_SUCCESS = 'ittp-chat/chat/FETCH_LOAN_SUCCESS'\nconst FETCH_LOAN_FAILURE = 'ittp-chat/chat/FETCH_LOAN_FAILURE'\n\nexport const BIND_ID = 'ittp-chat/chat/BIND_ID'\nconst BIND_ID_SUCCESS = 'ittp-chat/chat/BIND_ID_SUCCESS'\nconst BIND_ID_FAILURE = 'ittp-chat/chat/BIND_ID_FAILURE'\n\nexport const fetchLoan = ({id}) => {\n    return{\n        type: FETCH_LOAN,\n        payload: {id}\n    }\n}\n\nexport const fetchLoanSuccess = ({ data }) => {\n    return{\n        type:FETCH_LOAN_SUCCESS,\n        payload: {data}\n    }\n}\n\nexport const fetchLoanFailure = () => ({\n    type:FETCH_LOAN_FAILURE,\n    payload:{ code, message }\n})\n\nexport const bindId = ({ id , citizenId , platform }) => ({\n    type:BIND_ID,\n    payload:{id , citizenId , platform}\n})\n\nexport const bindIdSuccess = ({ data }) => {\n    return{\n        type:BIND_ID_SUCCESS,\n        payload: {data}\n    }\n}\n\nexport const bindIdFailure = ({ data }) => {\n    return{\n        type:BIND_ID_FAILURE,\n    payload:{ code, message }\n    }\n}\n\nconst initialState = {\n    error: {},\n    loading: false\n}\n\nconst reducer = (state = initialState, action = {}) => {\n    switch(action.type){\n        case FETCH_LOAN: {\n            console.log('fetch loan reducer',action)\n            return {\n                ...state,\n                loading: true,\n            }\n        }\n        case FETCH_LOAN_SUCCESS: {\n            const {data} = action.payload\n            return {\n                ...state,\n                loading: false,\n                data: data\n            }\n        }\n        case FETCH_LOAN_FAILURE: {\n            return {\n                ...state,\n                loading: false,\n                error: {\n                  code: action.payload.code,\n                  message: action.payload.message\n                }\n            }\n        }\n        case BIND_ID: {\n            return {\n                ...state,\n                loading: true\n            }\n        }\n        case BIND_ID_SUCCESS: {\n            const {data} = action.payload\n            return {\n                ...state,\n                loading : false,\n                data : data\n            }\n        }\n        case BIND_ID_FAILURE: {\n            return {\n                ...state,\n                loading: false,\n                error: {\n                  code: action.payload.code,\n                  message: action.payload.message\n                }\n            }\n        }\n        default:\n            return state\n    }\n}\nexport default reducer\n\n\n// WEBPACK FOOTER //\n// ./redux/ducks/loan.js","import {takeLatest,all,call,put} from 'redux-saga/effects'\nimport {\n    FETCH_LOAN,\n    fetchLoanSuccess,\n    fetchLoanFailure,\n    BIND_ID,\n    bindId,\n    bindIdSuccess,\n    bindIdFailure\n} from '../ducks/loan'\nimport {\n    API_SERVER,\n    getJSON,\n} from '../../tools/api'\n\nexport function* fetchLoanSaga(action){\n    console.log('fetch loan saga action',action)\n    const {id} = action.payload\n    //use api to fetch data from apiV2\n    try {\n        const data = yield call(\n            getJSON,\n            `${API_SERVER}/chats/${id}`\n        )\n        yield put(fetchLoanSuccess({ data }))\n    }\n    catch(error){\n        const { code, message } = error\n        yield put(fetchLoanFailure({ code, message }))\n    }\n}\n\n\n\nexport function* loanSagas() {\n    yield all([\n        takeLatest(FETCH_LOAN, fetchLoanSaga),\n        takeLatest(BIND_ID, bindIdSaga)\n    ])\n}\n\n\n// WEBPACK FOOTER //\n// ./redux/saga/loanSagas.js"],"sourceRoot":""}